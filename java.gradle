buildscript {
    ext {
    }
    repositories {
        mavenLocal()
        maven {
            url 'http://creditcloud.com:8081/nexus/content/groups/public'
            credentials {
                username "jenkins"
                password "hudson"
            }
        }
    }

}

allprojects {
    repositories {
        mavenLocal()
        maven {
            url 'http://creditcloud.com:8081/nexus/content/groups/public'
            credentials {
                username "jenkins"
                password "hudson"
            }
        }
    }



    group 'com.guns21'
    version '1.0.0-SNAPSHOT'

    apply plugin: 'java'
    apply plugin: 'maven-publish'
    apply plugin: 'maven'

    //上传到nexus
    uploadArchives {
        repositories {
            mavenDeployer {
                repository(url: "http://creditcloud.com:8081/nexus/content/repositories/snapshots") {
                    authentication(userName: "$userName", password: "$password")
                }
                pom.version = "$project.version"
                pom.artifactId = "$project.name"
                pom.groupId = "$project.group"
            }
        }
    }


    publishing {
        publications {
            mavenJava(MavenPublication) {
                from components.java
            }
        }
    }

}


subprojects {
    sourceCompatibility = 1.8
    targetCompatibility = 1.8
}